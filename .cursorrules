## Project Overview
- **Stack**:
  - Next.js
  - Tailwind CSS
  - Shadcn UI
  - Supabase

## Core Rules
- All IDs must come from the users table.
- Supabase Auth is used for authentication.

## File Structure

```
feedback_manager
├─ .cursorrules
│  ├─ ORIG_HEAD
│  ├─ packed-refs
│  └─ refs
│     ├─ heads
│     │  ├─ develop
│     │  └─ main
│     ├─ remotes
│     │  └─ origin
│     │     ├─ develop
│     │     └─ HEAD
│     └─ tags
├─ .gitignore
├─ .notes
│  └─ directory_structure.md
├─ components.json
├─ eslint.config.mjs
├─ INSTRUCTIONS
│  ├─ cluster_instructions.md
│  ├─ comandi_utili.txt
│  ├─ db_structure
│  ├─ memberships_instructions.md
│  ├─ questions_instructions.md
│  ├─ team_instructions.md
│  └─ update_directory.ps1
├─ middleware.ts
├─ next.config.ts
├─ package-lock.json
├─ package.json
├─ postcss.config.mjs
├─ public
│  ├─ file.svg
│  ├─ globe.svg
│  ├─ next.svg
│  ├─ vercel.svg
│  └─ window.svg
├─ README.md
├─ src
│  ├─ app
│  │  ├─ (auth)
│  │  │  └─ login
│  │  │     └─ page.tsx
│  │  ├─ (routes)
│  │  │  └─ admin
│  │  │     ├─ clusters
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     ├─ feedback-management
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     ├─ layout.tsx
│  │  │     ├─ levels
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     ├─ memberships
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     ├─ page.tsx
│  │  │     ├─ pre-session-analysis
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     ├─ processes
│  │  │     │  └─ page.tsx
│  │  │     ├─ questions
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     ├─ rules
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     ├─ session-results
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     ├─ sessions
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     ├─ teams
│  │  │     │  ├─ components
│  │  │     │  └─ page.tsx
│  │  │     └─ users
│  │  │        ├─ components
│  │  │        └─ page.tsx
│  │  ├─ @admin
│  │  │  ├─ clusters
│  │  │  │  └─ components
│  │  │  │     ├─ clusters-table.tsx
│  │  │  │     ├─ clusters-view.tsx
│  │  │  │     ├─ dialogs
│  │  │  │     │  ├─ create-cluster-dialog.tsx
│  │  │  │     │  └─ edit-cluster-dialog.tsx
│  │  │  │     └─ forms
│  │  │  │        ├─ cluster-form.tsx
│  │  │  │        └─ cluster-schema.ts
│  │  │  ├─ feedback-management
│  │  │  │  └─ components
│  │  │  │     ├─ feedback-management-view.tsx
│  │  │  │     └─ FeedbackManagementView.tsx
│  │  │  ├─ levels
│  │  │  │  └─ components
│  │  │  │     ├─ dialogs
│  │  │  │     │  ├─ create-level-dialog.tsx
│  │  │  │     │  └─ edit-level-dialog.tsx
│  │  │  │     ├─ forms
│  │  │  │     │  └─ level-form.tsx
│  │  │  │     ├─ levels-table.tsx
│  │  │  │     └─ levels-view.tsx
│  │  │  ├─ memberships
│  │  │  │  └─ components
│  │  │  │     ├─ dialogs
│  │  │  │     │  ├─ create-membership-dialog.tsx
│  │  │  │     │  └─ edit-membership-dialog.tsx
│  │  │  │     ├─ forms
│  │  │  │     │  ├─ membership-form.tsx
│  │  │  │     │  └─ membership-schema.ts
│  │  │  │     ├─ memberships-table.tsx
│  │  │  │     └─ memberships-view.tsx
│  │  │  ├─ pre-session-analysis
│  │  │  │  └─ components
│  │  │  │     ├─ dialogs
│  │  │  │     │  └─ generate-feedback-dialog.tsx
│  │  │  │     ├─ pre-session-analysis-view.tsx
│  │  │  │     └─ pre-session-feedbacks-table.tsx
│  │  │  ├─ processes
│  │  │  │  └─ components
│  │  │  │     ├─ dialogs
│  │  │  │     │  ├─ create-process-dialog.tsx
│  │  │  │     │  └─ edit-process-dialog.tsx
│  │  │  │     ├─ forms
│  │  │  │     │  └─ process-form.tsx
│  │  │  │     ├─ processes-table.tsx
│  │  │  │     └─ processes-view.tsx
│  │  │  ├─ questions
│  │  │  │  └─ components
│  │  │  │     ├─ dialogs
│  │  │  │     │  ├─ create-question-dialog.tsx
│  │  │  │     │  └─ edit-question-dialog.tsx
│  │  │  │     ├─ forms
│  │  │  │     │  ├─ question-form.tsx
│  │  │  │     │  └─ question-schema.ts
│  │  │  │     ├─ questions-table.tsx
│  │  │  │     └─ questions-view.tsx
│  │  │  ├─ rules
│  │  │  │  └─ components
│  │  │  │     └─ rules-table.tsx
│  │  │  ├─ session-results
│  │  │  │  └─ components
│  │  │  │     ├─ session-results-table.tsx
│  │  │  │     └─ session-results-view.tsx
│  │  │  ├─ sessions
│  │  │  │  └─ components
│  │  │  │     ├─ dialogs
│  │  │  │     │  ├─ create-session-dialog.tsx
│  │  │  │     │  └─ edit-session-dialog.tsx
│  │  │  │     ├─ forms
│  │  │  │     │  └─ session-form.tsx
│  │  │  │     ├─ sessions-table.tsx
│  │  │  │     └─ sessions-view.tsx
│  │  │  ├─ teams
│  │  │  │  └─ components
│  │  │  │     ├─ dialogs
│  │  │  │     │  ├─ create-team-dialog.tsx
│  │  │  │     │  └─ edit-team-dialog.tsx
│  │  │  │     ├─ forms
│  │  │  │     │  ├─ team-form.tsx
│  │  │  │     │  └─ team-schema.ts
│  │  │  │     ├─ teams-table.tsx
│  │  │  │     └─ teams-view.tsx
│  │  │  └─ users
│  │  │     └─ components
│  │  │        ├─ dialogs
│  │  │        │  ├─ create-user-dialog.tsx
│  │  │        │  └─ edit-user-dialog.tsx
│  │  │        ├─ forms
│  │  │        │  ├─ user-form.tsx
│  │  │        │  └─ user-schema.ts
│  │  │        └─ users-table.tsx
│  │  ├─ favicon.ico
│  │  ├─ globals.css
│  │  ├─ layout.tsx
│  │  ├─ page.tsx
│  │  ├─ people
│  │  │  └─ page.tsx
│  │  ├─ profile
│  │  │  └─ page.tsx
│  │  ├─ session
│  │  │  ├─ page.tsx
│  │  │  └─ [id]
│  │  │     ├─ evaluate
│  │  │     │  └─ page.tsx
│  │  │     └─ page.tsx
│  │  └─ session_results
│  │     ├─ comment
│  │     │  └─ page.tsx
│  │     ├─ feedback
│  │     │  └─ page.tsx
│  │     └─ page.tsx
│  ├─ components
│  │  ├─ layout
│  │  │  └─ admin-header.tsx
│  │  ├─ navigation
│  │  │  ├─ bottom-nav.tsx
│  │  │  ├─ header.tsx
│  │  │  └─ user-menu.tsx
│  │  ├─ stats
│  │  │  └─ stat-card.tsx
│  │  └─ ui
│  │     ├─ badge.tsx
│  │     ├─ button.tsx
│  │     ├─ calendar.tsx
│  │     ├─ card.tsx
│  │     ├─ checkbox.tsx
│  │     ├─ command.tsx
│  │     ├─ dialog.tsx
│  │     ├─ dropdown-menu.tsx
│  │     ├─ form.tsx
│  │     ├─ input.tsx
│  │     ├─ label.tsx
│  │     ├─ multi-select.tsx
│  │     ├─ popover.tsx
│  │     ├─ select.tsx
│  │     ├─ sheet.tsx
│  │     ├─ table.tsx
│  │     └─ tabs.tsx
│  ├─ lib
│  │  ├─ data
│  │  │  ├─ mock-levels.ts
│  │  │  ├─ mock-memberships.ts
│  │  │  ├─ mock-people.ts
│  │  │  ├─ mock-processes.ts
│  │  │  ├─ mock-questions.ts
│  │  │  ├─ mock-sessions.ts
│  │  │  ├─ mock-teams.ts
│  │  │  └─ mock-users.ts
│  │  ├─ supabase
│  │  │  ├─ client.ts
│  │  │  ├─ config.ts
│  │  │  ├─ database.types.ts
│  │  │  ├─ queries.ts
│  │  │  ├─ schema.sql
│  │  │  └─ server.ts
│  │  ├─ types
│  │  │  ├─ clusters.ts
│  │  │  ├─ feedbacks.ts
│  │  │  ├─ levels.ts
│  │  │  ├─ memberships.ts
│  │  │  ├─ processes.ts
│  │  │  ├─ questions.ts
│  │  │  ├─ sessions.ts
│  │  │  ├─ teams.ts
│  │  │  └─ users.ts
│  │  └─ utils.ts
│  └─ middleware.ts
├─ tailwind.config.ts
└─ tsconfig.json

```

## Requirements
- Supabase Auth is used for authentication.

## Best Practices
- **Code Structure**:
  - Components -> `src/components/`
  - Pages -> `src/app/`

- **Style**:
  - Strict English comments
  - Dynamic middleware updates
  - No unused fields/logs

- **Queries**:
  - Fetch IDs strictly from users table
  - Optimize joins via foreign keys

- **Performance**:
  - Exclude unnecessary files in docker builds
  - Volumes only for active files

- **Types**:
  - Use TypeScript strictly with interfaces
  - Avoid enums; prefer const objects with 'as const'
  - Declare explicit return types

- **Syntax**:
  - Use "function" for pure functions
  - Avoid redundant curly braces in conditionals
  - Use declarative JSX only
  - Assicura di mantenere la type-safety ad ogni inserimento di codice con controlli di tipizzazione per evitare problemi di deployment in Vercel

- **Documentation**:
  - Maintain README
  - Document API interactions
  - Document permission requirements

- **Scalability**:
  - Queries and components must scale for new fields
  - Middleware extensible for new roles/permissions